//Here we have all the Songs
let songList = [
     {
          name: 'ネバギバ',
          image: 'images/xwars.jpg',
          time: '4:18',
          song: 'songs/digimon-xwars-nebagiba.mp3',

          searchName: 'Digimon Xwars Digimon Fusion Never Give Up Nebagiba'
     },
     {
          name: '夢を叶えて',
          image: 'images/doraemon-prehistoric.jpg',
          time: '4:04',
          song: 'songs/doraemon-yume-wo-kanaete.mp3',

          searchName: 'Doraemon Yume wo Kanaete'
     },
     {
          name: 'ピースサイン',
          image: 'images/bha.jpg',
          time: '4:02',
          song: 'songs/bha-peace-sign.mp3',

          searchName: 'Boku no hero academia my hero academia bha mha Peace Sign'
     },
     {
          name: '東京喰種',
          image: 'images/tokyo-ghoul.png',
          time: '3:55',
          song: 'songs/tokyo-ghoul-op.mp3',

          searchName: 'Tokyo ghoul Unravel'
     },
     {
          name: '恋愛サルクェション',
          image: 'images/renai-circulation.png',
          time: '4:14',
          song: 'songs/renai-circulation.mp3',

          searchName: 'Renai Circulation'
     },
     {
          name: 'ステンダプ',
          image: 'images/xwars-2.jpg',
          time: '4:28',
          song: 'songs/digimon-xwars-stand-up.mp3',

          searchName: 'Digimon Xwars Digimon Fusion Twill Stand Up'
     },
     {
          name: '死神の世界',
          image: 'images/death-note.jpg',
          time: '3:39',
          song: 'songs/death-note-op.mp3',

          searchName: 'Death Note OP'
     },
     {
          name: 'ガチンコベイ',
          image: 'images/beyblade-burst-gt.jpg',
          time: '0:45',
          song: 'songs/beyblade-burst-gt-op.mp3',

          searchName: 'Beyblade Burst GT Gachi'
     },
     {
          name: '彗星の女子',
          image: 'images/inazuma-emperor.jpg',
          time: '4:27',
          song: 'songs/inazuma-orion-suisei-girls.mp3',

          searchName: 'Inazuma Eleven Inazuma 11 Suisei Girls'
     },
     {
          name: 'ヂギクロス',
          image: 'images/xwars.jpg',
          time: '4:36',
          song: 'songs/digimon-xwars-evolution-and-digix.mp3',

          searchName: 'Digimon Xwars Digimon Fusion Evolution and DigiX'

     },
     {
          name: '僕等二人',
          image: 'images/not-gto-manga.jpg',
          time: '3:47',
          song: 'songs/gto-end.mp3',

          searchName: 'Great TeacherOnizuka GTO End'
     },
     {
          name: 'インファルノ',
          image: 'images/fire-force.jpg',
          time: '3:33',
          song: 'songs/fire-force-op.mp3',

          searchName: 'Fire Force OP'
     },
     {
          name: '雪の女王',
          image: 'images/frozen.jpg',
          time: '3:45',
          song: 'songs/frozen-let-it-go.mp3',

          searchName: 'Disney Frozen Let it go'
     },
     {
          name: 'クロスハートー',
          image: 'images/xwars.jpg',
          time: '4:18',
          song: 'songs/digimon-xwars-xhearts.mp3',

          searchName: 'Digimon Xwars Digimon Fusion Cross Hearts X Hearts'

     },
     {
          name: '世界最強',
          image: 'images/one-punch-man.jpg',
          time: '3:47',
          song: 'songs/one-punch-man-hero.mp3',

          searchName: 'One Punch Man Openning The Hero'
     },
     {
          name: 'サーマーゾムビ',
          image: 'images/inazuma-emperor-art.jpg',
          time: '3:52',
          song: 'songs/inazuma-orion-summer-zombie.mp3',

          searchName: 'Inazuma Eleven Inazuma 11 Summer Zombie'
     },
     {
          name: '稲妻十一',
          image: 'images/inazuma-game.jpg',
          time: '4:18',
          song: 'songs/inazuma-op-sha-la-la.mp3',

          searchName: 'Inazuma Eleven Inazuma 11 OP'
     },
     {
          name: 'ビマイライート',
          image: 'images/digimon-appli.jpg',
          time: '3:14',
          song: 'songs/digimon-appli-be-my-light.mp3',

          searchName: 'Digimon Appli Monsters Be My Light'
     },
     {
          name: '雪達磨を作ろうか',
          image: 'images/little-anna-and-elsa.png',
          time: '3:13',
          song: 'songs/frozen-do-you-wanna-build-a-snowman.mp3',

          searchName: 'Disney Frozen Do you wanna build a snowman'
     },
     {
          name: '空の舞勇者',
          image: 'images/xwars.jpg',
          time: '4:49',
          song: 'songs/digimon-xwars-x5.mp3',

          searchName: 'Digimon Xwars Digimon Fusion Maiyuusha X5'
     },
     {
          name: 'バタフライ',
          image: 'images/digimon-butterfly.jpg',
          time: '4:17',
          song: 'songs/digimon-butterfly.mp3',

          searchName: 'Digimon Butterfly'
     },
     {
          name: '恋は開けた門',
          image: 'images/anna-and-kristoff.jpg',
          time: '2:02',
          song: 'songs/frozen-love-is-an-open-door.mp3',

          searchName: 'Disney Frozen Love is an Open Door'
     },
     {
          name: 'ドクターストーン',
          image: 'images/doctor-stone.jpg',
          time: '3:25',
          song: 'songs/doctor-stone-op-2.mp3',

          searchName: 'Doctor Stone OP2'
     },
     {
          name: '不易な毎日',
          image: 'images/tangled.jpg',
          time: '2:23',
          song: 'songs/tangled-when-will-my-life-begin.mp3',

          searchName: 'Disney Tangled'
     },
     {
          name: 'ポケットモンスター',
          image: 'images/pokemon.jpg',
          time: '4:17',
          song: 'songs/pokemon-getta-ban-ban.mp3',

          searchName: 'Pokemon Getta Ban Ban'
     },
     {
          name: '保護者',
          image: 'images/xwars-2.jpg',
          time: '4:25',
          song: 'songs/digimon-xwars-x4b.mp3',

          searchName: 'Digimon Xwars Digimon Fusion The Guardian X4B'
     },
     {
          name: '不死者の王',
          image: 'images/overlord.jpg',
          time: '3:43',
          song: 'songs/overlord-op-1.mp3',

          searchName: 'Overlord The King of the Undead'
     },
     {
          name: 'ヴェイル',
          image: 'images/fire-force.jpg',
          time: '3:43',
          song: 'songs/fire-force-end.mp3',

          searchName: 'Fire Force End Veil Fire Force Ending '
     },
     {
          name: '生まれて初めて',
          image: 'images/frozen-first.jpg',
          time: '3:45',
          song: 'songs/frozen-for-the-first-time-in-forever.mp3',

          searchName: 'Disney Frozen For the first time in Forever'
     },
     {
          name: '何処まで行けるか',
          image: 'images/moana.jpg',
          time: '2:37',
          song: 'songs/moana-how-far-Ill-go.mp3',

          searchName: 'Disney Moana How Far I\'ll go'
     },
     {
          name: '増し増し',
          image: 'images/haikyuu-2.webp',
          time: '4:08',
          song: 'songs/haikyuu-s3-end.mp3',

          searchName: 'Haikyuu S3 End Haikyuu Season 3 Ending'
     },
     {
          name: 'ロスロスロス',
          image: 'images/youjo-senki.jpg',
          time: '3:39',
          song: 'songs/youjo-senki-los-los-los.mp3',

          searchName: 'Youjo Senki Los Los Los'
     },
     {
          name: '問題もある',
          image: 'images/trolls.png',
          time: '2:54',
          song: 'songs/frozen-trolls.mp3',

          searchName: 'Disney Frozen Fixer Upper Trolls'
     },
     {
          name: '高く飛べ',
          image: 'images/haikyuu.jpeg',
          time: '4:02',
          song: 'songs/haikyuu-fly-high.mp3',

          searchName: 'Haikyuu Fly High'
     },
     {
          name: '進撃の巨人',
          image: 'images/attack-on-titans.jpg',
          time: '5:18',
          song: 'songs/attack-on-titans-op.mp3',

          searchName: 'Attack on titans OP Shingeki no kyojin'
     },
     {
          name: '大人に成ったら',
          image: 'images/olaf.jpg',
          time: '1:50',
          song: 'songs/frozen-when-Im-older.mp3',

          searchName: 'Disney Frozen Olaf When I\'m older'
     },

]





/* **************************************************
.                               ALL GLOBAL VARIABLES
************************************************** */
//JavaScript
let uta = new Audio();
let playingSongNum = -1;
let playing =true;



//------------------------------Container Page---------------------------------
//Container and Wrapper
const containerSectionPage = document.querySelector('.container');
const wrapper = document.querySelector('.wrapper');

//Sparkling and Kanji
let bgi = 'url("Styles/images-in-styles/bg.png") center/cover';
const kanji = document.querySelector('h1');

//carousel
const carouselCardDiv= document.querySelectorAll('.card');
const carouselCardImg= document.querySelectorAll('.card-img');

//Page Change Icons
const cogs= document.querySelector('.fa-cogs');
const angleDown= document.querySelector('.fa-angle-down');

//Controls
const play= document.querySelector('#play');
const next= document.querySelector('#next');
const prev= document.querySelector('#prev');
const like= document.querySelector('#like');

//Controls (Play Next Prev) + Settings
const allBtns= document.querySelectorAll('.btn');
//------------------------------------------------------------------------------



//---------------------Song List Section Page------------------------------
//Song-List-Section
const songListSectionPage= document.querySelector('.song-list-section');

//Page Close
const songListClose= document.querySelector('.song-list-close');

//Song Search
const searchBox = document.querySelector('.song-search-granpa');
const search= document.querySelector('.song-search-papa');
const songSearchInput = document.querySelector('.song-search-input');
const songSearchTogglerH = document.querySelector('.search-toggler');

//Song el holder
const listHolder = document.querySelector('.list-holder');


/* ------------------------------These Variables are defined later because
before creating the dynamic Song Options, I can not define it Here

const songEl= document.querySelectorAll('.song-el');
const songIconArr= document.querySelectorAll('.song-icon');
const songNameArr= document.querySelectorAll('.song-name');
const songTimeArr= document.querySelectorAll('.song-time');*/
//------------------------------------------------------------------------------



//--------------------------Settings Page-------------------------------------
//Settings Page
const settingsPage = document.querySelector('.settings');

//Page Close
const settingsClose= document.querySelector('.settings-close');

//Settings Options
const settingsInput = document.querySelectorAll('.settings-input');

const containerBGbutton = document.querySelector('.containerBG-button');
const songListBGbutton = document.querySelector('.songListBG-button');
const settingsBGbutton = document.querySelector('.settingsBG-button');


const buttonBGbutton = document.querySelector('.buttonBG-button');
const songElementBGbutton = document.querySelector('.songElementBG-button');

const countedSongDisplay = document.querySelector('.count-songs');
//------------------------------------------------------------------------------





/* **************************************************
.                           ALL TO-BE-USED FUNCTIONS
************************************************** */
function songListSectionPageClose(){

          containerSectionPage.classList.add('Cactive');

          setTimeout(()=>{
               songListSectionPage.classList.remove('active');
          }, 100)

          setTimeout(()=>{
               songListSectionPage.style.zIndex = '100';
               containerSectionPage.style.zIndex = '10';
          }, 1000)
}

function settingsPageClose(){

          containerSectionPage.classList.add('Cactive');

          setTimeout(()=>{
               settingsPage.classList.remove('Sactive');
          }, 100);

          setTimeout(()=>{
               settingsPage.style.zIndex = '100';
               containerSectionPage.style.zIndex = '10';
          }, 1000)
}

function songSearchHide(){
     searchBox.style.display = 'none';
     songSearchTogglerH.style.display = 'flex';
}

function songChange(){
     for (let j=0; j<carouselCardImg.length; j++){
          carouselCardImg[j].src = songList[playingSongNum].image;
     }

     uta.src = songList[playingSongNum].song;
     uta.play();
}

function toggleLike(){

     if(like.style.color ==='red'){
          like.style.color ='#fff';
     } else{
          like.style.color ='red';
     }

}



uta.addEventListener('ended', ()=>{
     if(playingSongNum < songList.length - 1){
          playingSongNum +=1;
     } else{
          playingSongNum = 0;
     }

     songChange();
});

/* **************************************************
.            DYNAMIC Song El (Song Option) Creator
************************************************** */

for(let i = 0; i<songList.length - 1; i++){
     const songElClone = document.querySelector('.song-el').cloneNode(true);
     listHolder.appendChild(songElClone);
}
/*Here we have a -1 because there is already a Song El present. So we need ! less*/

/* I can not define these variables before creating the elements they draw out from the DOM*/
//Song El (SONG OPTIONS)
const songEl= document.querySelectorAll('.song-el');
const songNameArr= document.querySelectorAll('.song-name');
const songIconArr= document.querySelectorAll('.song-icon');
const songTimeArr= document.querySelectorAll('.song-time');

/* **************************************************
.   Writing SONG Icon + Name + Time in the Song-List-Section
************************************************** */
for(let i=0; i<songList.length; i++){
     songNameArr[i].textContent = songList[i].name;
     songTimeArr[i].textContent = songList[i].time;
     songIconArr[i].style.backgroundImage = `url(${songList[i].image})`;
}



/* **************************************************
.                               REAL JavaScript STARTS
************************************************** */

//--------------------------------Song Counter------------------------------
countedSongDisplay.textContent = songList.length;
//------------------------------------------------------------------------------



//-------------OPEN-CLOSE Song List Section Page----------------
//Angle icon in the Container Page
angleDown.addEventListener('click', ()=>{

     songListSectionPage.classList.add('active');

          setTimeout(()=>{
               containerSectionPage.classList.remove('Cactive');
          }, 100)
          setTimeout(()=>{
               containerSectionPage.style.zIndex = '100';
               songListSectionPage.style.zIndex = '10';
          }, 1000)
});

//Song List Section Close
songListClose.addEventListener('click', ()=>{
     songListSectionPageClose();

     if(playingSongNum == -1){
          playingSongNum = 0;
          uta.src = songList[playingSongNum].song;
          uta.play();
          playing = true;
     }

     songSearchInput.value = '';

          setTimeout(()=>{
          songSearchHide();
          for(let i=0; i<songEl.length; i++){
               songEl[i].style.display = 'flex';
          }
     }, 900)

});
//------------------------------------------------------------------------------



//-----------------OPEN-CLOSE Settings Page-----------------------
//Cogs
cogs.addEventListener('click', ()=>{

     settingsPage.classList.add('Sactive');

          setTimeout(()=>{
               containerSectionPage.classList.remove('Cactive');
          }, 100)
          setTimeout(()=>{
               containerSectionPage.style.zIndex = '100';
               settingsPage.style.zIndex = '10';
          }, 1000)
});

//Settings close
settingsClose.addEventListener('click', ()=>{
     settingsPageClose();

});
//------------------------------------------------------------------------------



//-----------------------------Song Search---------------------------------
//Song-Search Toggle (Reveal and Hide)
songSearchTogglerH.addEventListener('click', ()=>{
     searchBox.style.display = 'flex';
     songSearchTogglerH.style.display = 'none';
})

//Song-Search Filter
songSearchInput.addEventListener('keyup', (e)=>{
     const searchTerm = e.target.value.toLowerCase();

     for(let i=0; i<songList.length; i++){
          const songTitle = songList[i].searchName.toLowerCase();

          if(songTitle.indexOf(searchTerm) != -1){
               songEl[i].style.display = 'flex';
          } else{
               songEl[i].style.display = 'none';
          }
     }



})
//------------------------------------------------------------------------------

//---------------------Default Song in Carousel---------------------------
for (let j=0; j<carouselCardImg.length; j++){
     carouselCardImg[j].src = songList[0].image;
}
//------------------------------------------------------------------------------



//----------------------Song List SONG OPTION-------------------------
//Song list el
for(let i=0; i<songEl.length; i++){
     songEl[i].addEventListener('click', ()=>{
          playingSongNum = i;

          play.classList.remove('fa-play');
          play.classList.add('fa-pause');

          playing = true;

          songListSectionPageClose();

          songChange();

     });
}
//------------------------------------------------------------------------------



//-------------------------CONTROLS--------------------------------------
//Play
play.addEventListener('click', ()=>{
     if(playing){
          play.classList.add('fa-play')
          play.classList.remove('fa-pause')

          uta.pause();
          playing = false;
     }else{
          play.classList.remove('fa-play')
          play.classList.add('fa-pause')

          uta.play();
          playing = true;
     }
});

//Next
next.addEventListener('click', ()=>{
     if(playingSongNum<songList.length -1){
          playingSongNum++;
     }else{
          playingSongNum =0;
     }
     songChange();

     playing=true;

     play.classList.remove('fa-play')
     play.classList.add('fa-pause')
});

//Prev
prev.addEventListener('click', ()=>{
     if(playingSongNum >0){
          playingSongNum--;
     }else{
          playingSongNum =songList.length -1;
     }
     songChange();

     playing=true;

     play.classList.remove('fa-play')
     play.classList.add('fa-pause')
});

//Like
like.addEventListener('click', toggleLike);

//Carousel Like
for(let i=0; i<carouselCardDiv.length; i++){
     carouselCardDiv[i].addEventListener('click', toggleLike);
}
//------------------------------------------------------------------------------



//-------------------Settings Input Placeholders-------------------------
for(let i=0; i<settingsInput.length; i++){
     settingsInput[i].placeholder = 'Type a Color';
}
//------------------------------------------------------------------------------



//---------------------------Settings Options-------------------------------
//---------------ContainerBG
containerBGbutton.addEventListener('click', ()=>{
     let userContainerBG= document.querySelector('.containerBG-input').value;
          settingsPageClose();

          containerSectionPage.style.background = userContainerBG;

})

//---------------SongListBG
songListBGbutton.addEventListener('click', ()=>{
     let userSongListBG= document.querySelector('.songListBG-input').value;
          settingsPageClose();

          songListSectionPage.style.background = userSongListBG;

})

//---------------SettingsBG
settingsBGbutton.addEventListener('click', ()=>{
     let userSettingsBG= document.querySelector('.settingsBG-input').value;

          settingsPage.style.background = userSettingsBG;

})

//---------------SongElementBG
songElementBGbutton.addEventListener('click', ()=>{
     let userSongElementBG= document.querySelector('.songElementBG-input').value;

          for(let i=0; i<songEl.length; i++){
               songEl[i].style.background = userSongElementBG;
          }

          settingsPageClose();

});

//---------------ButtonBG
buttonBGbutton.addEventListener('click', ()=>{
     let userButtonBG= document.querySelector('.buttonBG-input').value;
          settingsPageClose();
          search.style.borderColor = userButtonBG;
          for(let i=0; i<allBtns.length; i++){
               allBtns[i].style.background = userButtonBG;
          };

          for(let j=0; j<carouselCardDiv.length; j++){
               carouselCardDiv[j].style.borderColor = userButtonBG;
          };


});
//------------------------------------------------------------------------------



//-----------------------------KANJI-----------------------------------------
kanji.addEventListener('click', ()=>{
          if(wrapper.style.background == 'none'){
               wrapper.style.background = bgi;
          }else{
               wrapper.style.background = 'none';
          }
})
//------------------------------------------------------------------------------
